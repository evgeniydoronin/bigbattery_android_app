# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –±–∞—Ç–∞—Ä–µ–∏

## üìã –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±–∞—Ç–∞—Ä–µ–∏ –ø–æ–¥ –∫—Ä—É–≥–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –°—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö BMS –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏.

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. **UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
- –î–æ–±–∞–≤–ª–µ–Ω TextView –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ –±–∞—Ç–∞—Ä–µ–∏ –≤ `fragment_main_new.xml`
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –ø–æ–¥ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º –∑–∞—Ä—è–¥–∞ —Å –∫—Ä–∞—Å–∏–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∏–ª—å `tab_unselected_bg` –¥–ª—è —Ñ–æ–Ω–∞

### 2. **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤**
–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ –≤ `colors.xml`:
- **Charging** - –∑–µ–ª–µ–Ω—ã–π (#4CAF50)
- **Discharging** - –æ—Ä–∞–Ω–∂–µ–≤—ã–π (#FF9800) 
- **Standby** - –∂–µ–ª—Ç—ã–π (#FFC107)
- **Low Charge** - –∫—Ä–∞—Å–Ω—ã–π (#F44336)
- **Full** - —Å–∏–Ω–∏–π (#2196F3)

### 3. **–õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤**
–í `MainFragmentNew.kt` –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `updateBatteryStatus()`:

```kotlin
val statusText = when {
    data.current > 0.1f -> "Charging"
    data.current < -0.1f -> "Discharging"
    data.soc <= 20 -> "Low Charge"
    data.soc >= 100 -> "Full"
    else -> "Standby"
}
```

### 4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–æ–π**
- –ò–∫–æ–Ω–∫–∞ –º–æ–ª–Ω–∏–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ "Charging"
- –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö BMS
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üéØ –°—Ç–∞—Ç—É—Å—ã –±–∞—Ç–∞—Ä–µ–∏ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è iOS)

| –°—Ç–∞—Ç—É—Å | –£—Å–ª–æ–≤–∏–µ | –¶–≤–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|---------|------|----------|
| **Charging** | current > 0.1A | –ó–µ–ª–µ–Ω—ã–π | –ë–∞—Ç–∞—Ä–µ—è –∑–∞—Ä—è–∂–∞–µ—Ç—Å—è |
| **Discharging** | current < -0.1A | –û—Ä–∞–Ω–∂–µ–≤—ã–π | –ë–∞—Ç–∞—Ä–µ—è —Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è |
| **Protecting** | SOC ‚â§ 20% | –ö—Ä–∞—Å–Ω—ã–π | –ë–∞—Ç–∞—Ä–µ—è –≤ —Ä–µ–∂–∏–º–µ –∑–∞—â–∏—Ç—ã |
| **Charging Limit** | SOC ‚â• 100% | –°–∏–Ω–∏–π | –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –∑–∞—Ä—è–¥–∫–∏ |
| **Standby** | –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏ | –ñ–µ–ª—Ç—ã–π | –ë–∞—Ç–∞—Ä–µ—è –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è |

## üì± –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

–°—Ç–∞—Ç—É—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫:
```
[–ö—Ä—É–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å –ø—Ä–æ—Ü–µ–Ω—Ç–æ–º]
        75%
     [Charging]  ‚Üê –ù–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
1. `app/src/main/res/values/colors.xml` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
2. `app/src/main/res/layout/fragment_main_new.xml` - –¥–æ–±–∞–≤–ª–µ–Ω TextView —Å—Ç–∞—Ç—É—Å–∞
3. `app/src/main/java/.../MainFragmentNew.kt` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- –°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –º–µ—Ç–æ–¥–µ `updateBMSData()`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –æ—Ç BMS
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ —Å–≤—è–∑–∏
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ª–æ–≥–∏–∫–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üöÄ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –°—Ç–∞—Ç—É—Å –±–∞—Ç–∞—Ä–µ–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- ‚úÖ –¶–≤–µ—Ç–∞ –º–µ–Ω—è—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ò–∫–æ–Ω–∫–∞ –∑–∞—Ä—è–¥–∫–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –¥–∏–∑–∞–π–Ω–æ–º
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### **–ü—Ä–æ–±–ª–µ–º–∞:**
- –°—Ç–∞—Ç—É—Å –±–∞—Ç–∞—Ä–µ–∏ –±—ã–ª –Ω–µ–≤–∏–¥–∏–º –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `android:layout_marginBottom="-20dp"` –≤–Ω—É—Ç—Ä–∏ FrameLayout
- –≠–ª–µ–º–µ–Ω—Ç –≤—ã—Ö–æ–¥–∏–ª –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã —ç–∫—Ä–∞–Ω–∞

### **–†–µ—à–µ–Ω–∏–µ:**
- –í—ã–Ω–µ—Å–µ–Ω —Å—Ç–∞—Ç—É—Å –∏–∑ FrameLayout –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã: `marginTop="8dp"` –∏ `marginBottom="16dp"`
- –°–ª–µ–¥—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ (8dp, 16dp, 24dp)

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```xml
<!-- Battery Progress Circle -->
<FrameLayout ... />

<!-- –°—Ç–∞—Ç—É—Å –±–∞—Ç–∞—Ä–µ–∏ (–æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫) -->
<TextView android:id="@+id/battery_status" ... />

<!-- Parameters Cards -->
<LinearLayout ... />
```

## üé® –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞

### **–ù–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**
- **–¢–µ–∫—Å—Ç:** –≤—Å–µ–≥–¥–∞ —á–µ—Ä–Ω—ã–π (`@color/bb_on_surface`)
- **–ë–æ—Ä–¥—é—Ä:** –º–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
- **–§–æ–Ω:** –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π

### **–°–æ–∑–¥–∞–Ω–Ω—ã–µ drawable —Ñ–∞–π–ª—ã:**
- `battery_status_charging.xml` - –∑–µ–ª–µ–Ω—ã–π –±–æ—Ä–¥—é—Ä
- `battery_status_discharging.xml` - –æ—Ä–∞–Ω–∂–µ–≤—ã–π –±–æ—Ä–¥—é—Ä
- `battery_status_standby.xml` - –∂–µ–ª—Ç—ã–π –±–æ—Ä–¥—é—Ä
- `battery_status_low_charge.xml` - –∫—Ä–∞—Å–Ω—ã–π –±–æ—Ä–¥—é—Ä
- `battery_status_full.xml` - —Å–∏–Ω–∏–π –±–æ—Ä–¥—é—Ä

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ drawable:**
```xml
<shape xmlns:android="http://schemas.android.com/apk/res/android">
    <solid android:color="@android:color/transparent" />
    <stroke android:width="2dp" android:color="@color/status_*" />
    <corners android:radius="20dp" />
</shape>
```

### **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
```kotlin
// –¢–µ–∫—Å—Ç –≤—Å–µ–≥–¥–∞ —á–µ—Ä–Ω—ã–π
batteryStatus.setTextColor(resources.getColor(R.color.bb_on_surface, null))

// –§–æ–Ω –º–µ–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
val backgroundDrawable = when (statusText) {
    "Charging" -> R.drawable.battery_status_charging
    "Discharging" -> R.drawable.battery_status_discharging
    // –∏ —Ç.–¥.
}
batteryStatus.setBackgroundResource(backgroundDrawable)
```

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∏–∫–æ–Ω–∫–∏ –º–æ–ª–Ω–∏–∏

### **–ß—Ç–æ —É–±—Ä–∞–ª–∏:**
- –ò–∫–æ–Ω–∫—É –º–æ–ª–Ω–∏–∏ —Å–≤–µ—Ä—Ö—É –∫—Ä—É–≥–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (`charging_img`)
- –õ–æ–≥–∏–∫—É –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –∏–∫–æ–Ω–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞—Ä—è–¥–∫–µ

### **–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ:**
1. **Layout (fragment_main_new.xml):**
   - –£–¥–∞–ª–µ–Ω `ImageView` —Å `android:id="@+id/charging_img"`

2. **MainFragmentNew.kt:**
   - –£–¥–∞–ª–µ–Ω–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ `chargingImage`
   - –£–±—Ä–∞–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ `initViews()`
   - –£–¥–∞–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –≤ `updateBatteryStatus()`

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞—Ç–∞—Ä–µ–∏ - —á–∏—â–µ –∏ –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è iOS (18.07.2025)

### **–ü—Ä–æ–±–ª–µ–º–∞:**
–°—Ç–∞—Ç—É—Å—ã –≤ Android –∏ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–µ —Å–æ–≤–ø–∞–¥–∞–ª–∏, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é UX.

### **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Å—Ç–∞—Ç—É—Å—ã:**
   - `"Low Charge"` ‚Üí `"Protecting"`
   - `"Full"` ‚Üí `"Charging Limit"`

2. **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:**
   - `colors.xml` - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã —Ü–≤–µ—Ç–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
   - `MainFragmentNew.kt` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
   - –°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ drawable —Ñ–∞–π–ª—ã:
     - `battery_status_protecting.xml`
     - `battery_status_charging_limit.xml`
   - –£–¥–∞–ª–µ–Ω—ã —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã:
     - `battery_status_low_charge.xml`
     - `battery_status_full.xml`

3. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞:**
```kotlin
val statusText = when {
    data.current > 0.1f -> "Charging"
    data.current < -0.1f -> "Discharging"
    data.soc <= 20 -> "Protecting"        // –û–±–Ω–æ–≤–ª–µ–Ω–æ
    data.soc >= 100 -> "Charging Limit"   // –û–±–Ω–æ–≤–ª–µ–Ω–æ
    else -> "Standby"
}
```

### **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–¢–µ–ø–µ—Ä—å —Å—Ç–∞—Ç—É—Å—ã –≤ Android –∏ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–ø–∞–¥–∞—é—Ç:
- **Charging** - –ó–∞—Ä—è–¥–∫–∞
- **Discharging** - –†–∞–∑—Ä—è–¥–∫–∞
- **Protecting** - –ó–∞—â–∏—Ç–∞
- **Charging Limit** - –õ–∏–º–∏—Ç –∑–∞—Ä—è–¥–∫–∏
- **Standby** - –û–∂–∏–¥–∞–Ω–∏–µ

## üêõ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (18.07.2025)**

### **–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å "Protecting" –≤–º–µ—Å—Ç–æ "Standby".

### **–ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω—ã:**
1. **MainViewModel** –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–µ—Ç `BMSData(0.0f, 0.0f)` —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
2. –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω—ã 0: `voltage=0, current=0, soc=0`
3. –õ–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–∞: `data.soc <= 20 -> "Protecting"`
4. –ü–æ—Å–∫–æ–ª—å–∫—É `soc = 0`, –∞ `0 <= 20` = true, –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è **"Protecting"**

### **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ "—Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å" –¥–∞–Ω–Ω—ã—Ö BMS:
```kotlin
private fun updateBatteryStatus(data: BMSData) {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–µ–∞–ª—å–Ω—ã–º–∏ (–Ω–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ –Ω—É–ª–µ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏)
    val isRealData = data.voltage > 0 || data.current != 0f || data.soc > 0
    
    val statusText = if (!isRealData) {
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ (–≤—Å–µ –Ω—É–ª–∏) - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º Standby –∫–∞–∫ –≤ iOS
        "Standby"
    } else {
        // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ —Ä–µ–∞–ª—å–Ω—ã–µ - –ø—Ä–∏–º–µ–Ω—è–µ–º –æ–±—ã—á–Ω—É—é –ª–æ–≥–∏–∫—É —Å—Ç–∞—Ç—É—Å–æ–≤
        when {
            data.current > 0.1f -> "Charging"
            data.current < -0.1f -> "Discharging"
            data.soc <= 20 -> "Protecting"
            data.soc >= 100 -> "Charging Limit"
            else -> "Standby"
        }
    }
    // ...
}
```

### **–†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ **–ë–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "Standby" (–∫–∞–∫ –≤ iOS)
- ‚úÖ **–° –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º:** —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** –º–µ–∂–¥—É iOS –∏ Android

## üì¶ –°–±–æ—Ä–∫–∞

**–§–∏–Ω–∞–ª—å–Ω—ã–π APK:** `20250717-battery-release.apk` (5.95 MB)
- ‚úÖ –°—Ç–∞—Ç—É—Å –±–∞—Ç–∞—Ä–µ–∏ –≤–∏–¥–∏–º –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –¢–µ–∫—Å—Ç –≤—Å–µ–≥–¥–∞ —á–µ—Ä–Ω—ã–π
- ‚úÖ –¶–≤–µ—Ç–Ω–æ–π –±–æ—Ä–¥—é—Ä –º–µ–Ω—è–µ—Ç—Å—è –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
- ‚úÖ –£–±—Ä–∞–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è –∏–∫–æ–Ω–∫–∞ –º–æ–ª–Ω–∏–∏
- ‚úÖ –ß–∏—Å—Ç—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ **–°—Ç–∞—Ç—É—Å—ã –ø—Ä–∏–≤–µ–¥–µ–Ω—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å iOS**

–ì–æ—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è.
