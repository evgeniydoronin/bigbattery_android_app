# START HERE - Android App Testing

–ü–æ–ª—É—á–∏–ª –ª–æ–≥–∏ –æ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–±–ª–µ–º–µ? **–ù–ê–ß–ù–ò –ó–î–ï–°–¨!**

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è** | 3.0.4 (versionCode 16) |
| **–§–æ–∫—É—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** | Settings screen |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫** | Kunj |
| **–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** | 2025-01-29 |

---

## Quick Reference - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø

| –ß—Ç–æ –Ω—É–∂–Ω–æ | –ì–¥–µ –Ω–∞–π—Ç–∏ |
|-----------|-----------|
| **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** | [test-instructions-android.md](test-instructions-android.md) |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** | [PROJECT_ARCHITECTURE.md](PROJECT_ARCHITECTURE.md) |
| **–õ–æ–≥–∏ –æ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞** | `docs/logs/` |
| **–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º** | `docs/issue-threads/` |
| **Git –ø—Ä–∞–≤–∏–ª–∞** | –ß–∏—Ç–∞–π CLAUDE.md –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ |

---

## –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å Diagnostics –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–≠–∫—Ä–∞–Ω Diagnostics **—Å–∫—Ä—ã—Ç—ã–π**. –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å:

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω **Settings**
2. –ü—Ä–æ–ª–∏—Å—Ç–∞—Ç—å –≤–Ω–∏–∑ ‚Äî –Ω–∞–π—Ç–∏ **–Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. **–î–æ–ª–≥–æ –Ω–∞–∂–∞—Ç—å** (—É–¥–µ—Ä–∂–∏–≤–∞—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã) –Ω–∞ —Ç–µ–∫—Å—Ç –≤–µ—Ä—Å–∏–∏
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è —ç–∫—Ä–∞–Ω Diagnostics ‚Üí –∫–Ω–æ–ø–∫–∞ **Send Logs**

---

## –ü–æ–ª—É—á–∏–ª –ª–æ–≥–∏ –æ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞

### –®–∞–≥ 1: –°–æ—Ö—Ä–∞–Ω–∏ –ª–æ–≥–∏

```
–ö—É–¥–∞: docs/logs/
–§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏: bigbattery_logs_android_YYYYMMDD_HHMMSS.json
```

### –®–∞–≥ 2: –û–ø—Ä–µ–¥–µ–ª–∏ —Ç–∏–ø –∑–∞–¥–∞—á–∏

**–≠—Ç–æ –ª–æ–≥–∏ –ü–û–°–õ–ï —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—à–µ–≥–æ fix?**
- –ï—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π Issue Thread –¥–ª—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã?
- –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –ø–∏—Å–∞–ª "tested new build", "here are logs after update"?

‚Üí **–î–ê** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π Validation Workflow (—Å–º. –Ω–∏–∂–µ)

**–≠—Ç–æ –ù–û–í–ê–Ø –ø—Ä–æ–±–ª–µ–º–∞?**
- –¢–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –≤–ø–µ—Ä–≤—ã–µ
- –ù–µ—Ç Issue Thread –¥–ª—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã

‚Üí **–î–ê** ‚Äî —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π Issue Thread

### –®–∞–≥ 3: –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

–í JSON-—Ñ–∞–π–ª–µ –∏—â–∏:

**protocolInfo** ‚Äî –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤:
```json
"protocolInfo": {
  "moduleId": 1,
  "canProtocol": "PYLON",
  "rs485Protocol": "PYLON"
}
```
–ï—Å–ª–∏ `null` –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å.

**events** ‚Äî —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```json
"events": [
  {"type": "CONNECTION", "message": "Connected to device", "timestamp": "..."},
  {"type": "DATA_UPDATE", "message": "BMS data received", "timestamp": "..."}
]
```

**bluetoothInfo** ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ BLE:
```json
"bluetoothInfo": {
  "connectionState": "connected",
  "deviceName": "BB-1234"
}
```

---

## Validation Workflow ‚Äî –ö–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫ –ø—Ä–æ–≤–µ—Ä–∏–ª fix

### 1. –û—Ç–∫—Ä–æ–π Issue Thread

–ù–∞–π–¥–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –≤ `docs/issue-threads/`

### 2. –°—Ä–∞–≤–Ω–∏ Expected vs Reality

| –û–∂–∏–¥–∞–ª–∏ | –†–µ–∞–ª—å–Ω–æ—Å—Ç—å –≤ –ª–æ–≥–∞—Ö |
|---------|-------------------|
| Module ID –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | ‚úÖ / ‚ùå |
| CAN Protocol –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | ‚úÖ / ‚ùå |
| RS485 Protocol –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | ‚úÖ / ‚ùå |
| –ù–µ—Ç "--" –Ω–∞ —ç–∫—Ä–∞–Ω–µ | ‚úÖ / ‚ùå |

### 3. –û–±–Ω–æ–≤–∏ Issue Thread

–î–æ–±–∞–≤—å –∑–∞–ø–∏—Å—å:

```markdown
### Test YYYY-MM-DD (Build X.X.X)

**Tester:** Kunj
**Result:** PASS / FAIL / PARTIAL

**Logs:** docs/logs/bigbattery_logs_android_YYYYMMDD_HHMMSS.json

**What worked:**
- ...

**What failed:**
- ...

**Next steps:**
- ...
```

### 4. –û–ø—Ä–µ–¥–µ–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

| –†–µ–∑—É–ª—å—Ç–∞—Ç | –ß—Ç–æ –¥–µ–ª–∞—Ç—å |
|-----------|-----------|
| **SUCCESS ‚úÖ** | –ó–∞–∫—Ä—ã—Ç—å Issue Thread, –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å |
| **PARTIAL üîÑ** | –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω, —Å–ª–µ–¥—É—é—â–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è |
| **FAILED ‚ùå** | –ü–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å root cause, –Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥ |

---

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (–∏–∑ iOS)

–≠—Ç–∏ –±–∞–≥–∏ –±—ã–ª–∏ –Ω–∞ iOS –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞ Android:

| –ü—Ä–æ–±–ª–µ–º–∞ | –°–∏–º–ø—Ç–æ–º | –ì–¥–µ –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö |
|----------|---------|-------------------|
| Race condition | Module ID / CAN / RS485 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "--" | `protocolInfo` ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è null |
| Auto-reconnect | –ü–æ—Å–ª–µ –ø–æ—Ç–µ—Ä–∏ BLE –Ω–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è | `events` ‚Äî –Ω–µ—Ç CONNECTION –ø–æ—Å–ª–µ DISCONNECTION |
| UUID lost | –ü–æ—Å–ª–µ kill app –Ω–µ –ø–æ–º–Ω–∏—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ | `bluetoothInfo.deviceName` ‚Äî –ø—É—Å—Ç–æ |

### Timing –≤ Android

–ó–∞–ø—Ä–æ—Å—ã –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
- Module ID ‚Üí 0ms
- CAN ‚Üí +600ms
- RS485 ‚Üí +600ms

–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ —É—Å–ø–µ–ª –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ —Å —ç–∫—Ä–∞–Ω–∞ ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è.

---

## Issue Threads

### –ê–∫—Ç–∏–≤–Ω—ã–µ

| ID | –ü—Ä–æ–±–ª–µ–º–∞ | Status | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ |
|----|----------|--------|---------------------|
| THREAD-001 | CAN Protocol –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | üî¥ ACTIVE | 2025-01-29 |

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π Thread

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `docs/issue-threads/THREAD-XXX.md`
2. –ò—Å–ø–æ–ª—å–∑—É–π —à–∞–±–ª–æ–Ω –Ω–∏–∂–µ
3. –î–æ–±–∞–≤—å –≤ —Ç–∞–±–ª–∏—Ü—É –≤—ã—à–µ

**–®–∞–±–ª–æ–Ω:**

```markdown
# THREAD-XXX: [–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã]

## Status: üî¥ ACTIVE / üü° IN PROGRESS / üü¢ RESOLVED

## –°–∏–º–ø—Ç–æ–º—ã
- –ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å?
- –ù–∞ –∫–∞–∫–æ–º —ç–∫—Ä–∞–Ω–µ?
- –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤—Å–µ–≥–¥–∞ –∏–ª–∏ –∏–Ω–æ–≥–¥–∞?

## Root Cause (—Ç–µ–∫—É—â–µ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ)
- –ß—Ç–æ –º—ã –¥—É–º–∞–µ–º —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏—á–∏–Ω–æ–π?

## Timeline

### Attempt #1 (YYYY-MM-DD)
**Build:** X.X.X
**–ß—Ç–æ —Å–¥–µ–ª–∞–ª–∏:** ...
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** SUCCESS / FAILED / PARTIAL
**–õ–æ–≥–∏:** docs/logs/...

---

## Metrics

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ fix | –ü–æ—Å–ª–µ fix |
|---------|--------|-----------|
| Module ID –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | ‚ùå | ‚úÖ |
| CAN –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | ‚ùå | ‚ùå |
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–∫–∏ docs/

```
docs/
‚îú‚îÄ‚îÄ START-HERE.md              ‚Üê –¢–´ –ó–î–ï–°–¨
‚îú‚îÄ‚îÄ test-instructions-android.md   ‚Üê –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞
‚îú‚îÄ‚îÄ PROJECT_ARCHITECTURE.md    ‚Üê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ logs/                      ‚Üê –õ–æ–≥–∏ –æ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞
‚îÇ   ‚îî‚îÄ‚îÄ bigbattery_logs_android_*.json
‚îî‚îÄ‚îÄ issue-threads/             ‚Üê –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º
    ‚îú‚îÄ‚îÄ README.md
    ‚îî‚îÄ‚îÄ THREAD-001.md
```

---

## Release Workflow ‚Äî –í—ã–ø—É—Å–∫ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

### –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞

```
1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É ‚Üí fix/–Ω–∞–∑–≤–∞–Ω–∏–µ-X.X.X –∏–ª–∏ feature/–Ω–∞–∑–≤–∞–Ω–∏–µ-X.X.X
2. –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ build.gradle (versionName + versionCode)
4. –ö–æ–º–º–∏—Ç –ë–ï–ó –∫–æ–ø–∏—Ä–∞–π—Ç–æ–≤
5. Push –≤ –≤–µ—Ç–∫—É
6. –°–æ–∑–¥–∞—Ç—å PR
7. –ñ–î–ê–¢–¨ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
8. –ü–æ—Å–ª–µ merge ‚Äî –ø–æ–¥—Ç—è–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ main –ª–æ–∫–∞–ª—å–Ω–æ
```

### –ü—Ä–∏–º–µ—Ä

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –≤–µ—Ç–∫—É
git checkout -b fix/protocol-loading-3.0.5

# 2. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è...

# 3. –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ app/build.gradle:
#    versionName "3.0.5"
#    versionCode  17

# 4. –ö–æ–º–º–∏—Ç (–ë–ï–ó Co-Authored-By!)
git add app/build.gradle app/src/...
git commit -m "fix: –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# 5. Push
git push -u origin fix/protocol-loading-3.0.5

# 6. –°–æ–∑–¥–∞—Ç—å PR
gh pr create --title "fix: –æ–ø–∏—Å–∞–Ω–∏–µ (vX.X.X)" --body "..."

# 7. –°–¢–û–ü! –ñ–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è merge –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# 8. –ü–æ—Å–ª–µ merge:
git checkout main
git pull
git branch -d fix/protocol-loading-3.0.5
```

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

| –¢–∏–ø –∏–∑–º–µ–Ω–µ–Ω–∏—è | –ß—Ç–æ –º–µ–Ω—è—Ç—å |
|---------------|------------|
| Bug fix | Patch: 3.0.3 ‚Üí 3.0.4 |
| –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è | Minor: 3.0.x ‚Üí 3.1.0 |
| Breaking change | Major: 3.x.x ‚Üí 4.0.0 |

**versionCode** ‚Äî –≤—Å–µ–≥–¥–∞ —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –Ω–∞ 1

---

## –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º

- ‚ùå **NO COPYRIGHTS** ‚Äî –Ω–µ –¥–æ–±–∞–≤–ª—è—Ç—å "Co-Authored-By" –∏–ª–∏ "Generated with Claude Code"
- ‚ùå **–ù–ï –ü–£–®–ò–¢–¨ –í MAIN** ‚Äî —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤–µ—Ç–∫—É –∏ PR
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (.md —Ñ–∞–π–ª—ã) ‚Äî –º–æ–∂–Ω–æ –ø—É—à–∏—Ç—å –≤ main –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ –ö–æ–¥ ‚Äî **–¢–û–õ–¨–ö–û** —á–µ—Ä–µ–∑ –≤–µ—Ç–∫—É –∏ PR
- ‚úÖ –í–µ—Ç–∫–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å **–ø–æ—Å—Ç—Ñ–∏–∫—Å –≤–µ—Ä—Å–∏–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä `fix/bug-3.0.5`)

### –ü–æ—Å–ª–µ merge PR

```bash
git checkout main
git pull
git branch -d <–∏–º—è-–≤–µ—Ç–∫–∏>
```

### –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤

1. –°–æ—Ö—Ä–∞–Ω–∏ –ª–æ–≥–∏ –≤ `docs/logs/`
2. –û–±–Ω–æ–≤–∏ Issue Thread
3. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π
4. –°–æ–æ–±—â–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª

1. –ü—Ä–æ–≤–µ—Ä—å [test-instructions-android.md](test-instructions-android.md)
2. –ü—Ä–æ–≤–µ—Ä—å Issue Threads
3. –°–ø—Ä–æ—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-01-29
